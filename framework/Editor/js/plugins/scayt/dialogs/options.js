CKEDITOR.dialog.add("scaytcheck",function(X){var W=true,V,U=CKEDITOR.document,T=X.name,S=CKEDITOR.plugins.scayt.getUiTabs(X),R,Q=[],P=0,O=["dic_create_"+T+",dic_restore_"+T,"dic_rename_"+T+",dic_delete_"+T],N=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"];function M(){if(typeof document.forms["optionsbar_"+T]!="undefined"){return document.forms["optionsbar_"+T].options}return[]}function L(){if(typeof document.forms["languagesbar_"+T]!="undefined"){return document.forms["languagesbar_"+T].scayt_lang}return[]}function K(c,a){if(!c){return}var d=c.length;if(d==undefined){c.checked=c.value==a.toString();return}for(var b=0;b<d;b++){c[b].checked=false;if(c[b].value==a.toString()){c[b].checked=true}}}var J=X.lang.scayt,I=[{id:"options",label:J.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar_'+T+'"><div class="inner_options">\t<div class="messagebox"></div>\t<div style="display:none;">\t\t<input type="checkbox" name="options"  id="allCaps_'+T+'" />\t\t<label for="allCaps" id="label_allCaps_'+T+'"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="ignoreDomainNames_'+T+'" />\t\t<label for="ignoreDomainNames" id="label_ignoreDomainNames_'+T+'"></label>\t</div>\t<div style="display:none;">\t<input name="options" type="checkbox"  id="mixedCase_'+T+'" />\t\t<label for="mixedCase" id="label_mixedCase_'+T+'"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="mixedWithDigits_'+T+'" />\t\t<label for="mixedWithDigits" id="label_mixedWithDigits_'+T+'"></label>\t</div></div></form>'}]},{id:"langs",label:J.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar_'+T+'"><div class="inner_langs">\t<div class="messagebox"></div>\t   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol_'+T+'" ></div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol_'+T+'"></div></div></form>'}]},{id:"dictionaries",label:J.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar_'+T+'"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">\t<div style="margin:5px auto; width:80%;white-space:normal; overflow:hidden;" id="dic_message_'+T+'"> </div>\t<div style="margin:5px auto; width:80%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name_'+T+'" type="text" class="cke_dialog_ui_input_text"/>\t\t</div></span></div>\t\t<div style="margin:5px auto; width:80%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create_'+T+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete_'+T+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename_'+T+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore_'+T+'">\t\t\t\t</a>\t\t</div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info_'+T+'"></div></div></form>'}]},{id:"about",label:J.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about_'+T+'"></div>'}]}],H={title:J.title,minWidth:360,minHeight:220,onShow:function(){var b=this;b.data=X.fire("scaytDialog",{});b.options=b.data.scayt_control.option();b.chosed_lang=b.sLang=b.data.scayt_control.sLang;if(!b.data||!b.data.scayt||!b.data.scayt_control){alert("Error loading application service");b.hide();return}var a=0;if(W){b.data.scayt.getCaption(X.langCode||"en",function(c){if(a++>0){return}V=c;F.apply(b);E.apply(b);W=false})}else{E.apply(b)}b.selectPage(b.data.tab)},onOk:function(){var b=this.data.scayt_control;b.option(this.options);var a=this.chosed_lang;b.setLang(a);b.refresh()},onCancel:function(){var b=M();for(var a in b){b[a].checked=false}K(L(),"")},contents:Q},G=CKEDITOR.plugins.scayt.getScayt(X);for(R=0;R<S.length;R++){if(S[R]==1){Q[Q.length]=I[R]}}if(S[2]==1){P=1}var F=function(){var k=this,u=k.data.scayt.getLangList(),t=["dic_create","dic_delete","dic_rename","dic_restore"],s=[],r=[],q=N,p;if(P){for(p=0;p<t.length;p++){s[p]=t[p]+"_"+T;U.getById(s[p]).setHtml('<span class="cke_dialog_ui_button">'+V["button_"+t[p]]+"</span>")}U.getById("dic_info_"+T).setHtml(V.dic_info)}if(S[0]==1){for(p in q){var o="label_"+q[p],n=o+"_"+T,m=U.getById(n);if("undefined"!=typeof m&&"undefined"!=typeof V[o]&&"undefined"!=typeof k.options[q[p]]){m.setHtml(V[o]);var l=m.getParent();l.$.style.display="block"}}}var j='<p><img src="'+window.scayt.getAboutInfo().logoURL+'" /></p><p>'+V.version+window.scayt.getAboutInfo().version.toString()+"</p><p>"+V.about_throwt_copy+"</p>";U.getById("scayt_about_"+T).setHtml(j);var i=function(x,w){var v=U.createElement("label");v.setAttribute("for","cke_option"+x);v.setHtml(w[x]);if(k.sLang==x){k.chosed_lang=x}var Z=U.createElement("div"),y=CKEDITOR.dom.element.createFromHtml('<input id="cke_option'+x+'" type="radio" '+(k.sLang==x?'checked="checked"':"")+' value="'+x+'" name="scayt_lang" />');y.on("click",function(){this.$.checked=true;k.chosed_lang=x});Z.append(y);Z.append(v);return{lang:w[x],code:x,radio:Z}};if(S[1]==1){for(p in u.rtl){r[r.length]=i(p,u.ltr)}for(p in u.ltr){r[r.length]=i(p,u.ltr)}r.sort(function(w,v){return v.lang>w.lang?-1:1});var h=U.getById("scayt_lcol_"+T),g=U.getById("scayt_rcol_"+T);for(p=0;p<r.length;p++){var f=p<r.length/2?h:g;f.append(r[p].radio)}}var e={};e.dic_create=function(x,w,v){var ab=v[0]+","+v[1],aa=V.err_dic_create,y=V.succ_dic_create;window.scayt.createUserDictionary(w,function(Y){A(ab);B(v[1]);y=y.replace("%s",Y.dname);C(y)},function(Y){aa=aa.replace("%s",Y.dname);D(aa+"( "+(Y.message||"")+")")})};e.dic_rename=function(x,w){var v=V.err_dic_rename||"",y=V.succ_dic_rename||"";window.scayt.renameUserDictionary(w,function(Z){y=y.replace("%s",Z.dname);z(w);C(y)},function(Z){v=v.replace("%s",Z.dname);z(w);D(v+"( "+(Z.message||"")+" )")})};e.dic_delete=function(x,w,v){var ab=v[0]+","+v[1],aa=V.err_dic_delete,y=V.succ_dic_delete;window.scayt.deleteUserDictionary(function(Y){y=y.replace("%s",Y.dname);A(ab);B(v[0]);z("");C(y)},function(Y){aa=aa.replace("%s",Y.dname);D(aa)})};e.dic_restore=k.dic_restore||(function(x,w,v){var ab=v[0]+","+v[1],aa=V.err_dic_restore,y=V.succ_dic_restore;window.scayt.restoreUserDictionary(w,function(Y){y=y.replace("%s",Y.dname);A(ab);B(v[1]);C(y)},function(Y){aa=aa.replace("%s",Y.dname);D(aa)})});function d(x){var w=U.getById("dic_name_"+T).getValue();if(!w){D(" Dictionary name should not be empty. ");return false}try{var v=x.data.getTarget().getParent(),Z=/(dic_\w+)_[\w\d]+/.exec(v.getId())[1];e[Z].apply(null,[v,w,O])}catch(y){D(" Dictionary error. ")}return true}var c=(O[0]+","+O[1]).split(","),b;for(p=0,b=c.length;p<b;p+=1){var a=U.getById(c[p]);if(a){a.on("click",d,this)}}},E=function(){var f=this;if(S[0]==1){var a=M();for(var g=0,e=a.length;g<e;g++){var d=a[g].id,c=U.getById(d);if(c){a[g].checked=false;if(f.options[d.split("_")[0]]==1){a[g].checked=true}if(W){c.on("click",function(){f.options[this.getId().split("_")[0]]=this.$.checked?1:0})}}}}if(S[1]==1){var b=U.getById("cke_option"+f.sLang);K(b.$,f.sLang)}if(P){window.scayt.getNameUserDictionary(function(i){var h=i.dname;A(O[0]+","+O[1]);if(h){U.getById("dic_name_"+T).setValue(h);B(O[1])}else{B(O[0])}},function(){U.getById("dic_name_"+T).setValue("")});C("")}};function D(a){U.getById("dic_message_"+T).setHtml('<span style="color:red;">'+a+"</span>")}function C(a){U.getById("dic_message_"+T).setHtml('<span style="color:blue;">'+a+"</span>")}function B(c){c=String(c);var a=c.split(",");for(var d=0,b=a.length;d<b;d+=1){U.getById(a[d]).$.style.display="inline"}}function A(c){c=String(c);var a=c.split(",");for(var d=0,b=a.length;d<b;d+=1){U.getById(a[d]).$.style.display="none"}}function z(a){U.getById("dic_name_"+T).$.value=a}return H});