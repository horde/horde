CKEDITOR.dialog.add("hiddenfield",function(b){return{title:b.lang.hidden.title,hiddenField:null,minWidth:350,minHeight:110,onShow:function(){var f=this;delete f.hiddenField;var a=f.getParentEditor(),h=a.getSelection(),g=h.getSelectedElement();if(g&&g.getAttribute("_cke_real_element_type")&&g.getAttribute("_cke_real_element_type")=="hiddenfield"){f.hiddenField=g;g=a.restoreRealElement(f.hiddenField);f.setupContent(g);h.selectElement(f.hiddenField)}},onOk:function(){var h=this;var a=h.getValueOf("info","_cke_saved_name"),l=h.getValueOf("info","value"),k=h.getParentEditor(),j=CKEDITOR.env.ie?k.document.createElement('<input name="'+CKEDITOR.tools.htmlEncode(a)+'">'):k.document.createElement("input");j.setAttribute("type","hidden");h.commitContent(j);var i=k.createFakeElement(j,"cke_hidden","hiddenfield");if(!h.hiddenField){k.insertElement(i)}else{i.replace(h.hiddenField);k.getSelection().selectElement(i)}return true},contents:[{id:"info",label:b.lang.hidden.title,title:b.lang.hidden.title,elements:[{id:"_cke_saved_name",type:"text",label:b.lang.hidden.name,"default":"",accessKey:"N",setup:function(a){this.setValue(a.getAttribute("_cke_saved_name")||a.getAttribute("name")||"")},commit:function(a){if(this.getValue()){a.setAttribute("name",this.getValue())}else{a.removeAttribute("name")}}},{id:"value",type:"text",label:b.lang.hidden.value,"default":"",accessKey:"V",setup:function(a){this.setValue(a.getAttribute("value")||"")},commit:function(a){if(this.getValue()){a.setAttribute("value",this.getValue())}else{a.removeAttribute("value")}}}]}]}});